{"version":3,"file":"js/js/lernchips-ff9c94e58f26682bd4e4.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/js/lernchips.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/js/lernchips.js\");\n","var mobe = mobe || {};\n\nmobe.consistBtn = false;\n\nmobe.navAccordion = new function() {\n\n    this.init = function() {\n        var acc = document.getElementsByClassName(\"accordion\"), i,\n        maincon = document.getElementById('main_content'),\n        tit = maincon.querySelector(\".title-mp\");\n\n        for (i = 0; i < acc.length; i++) {\n            acc[i].addEventListener(\"click\", function() {\n                tit.innerText = this.innerText;\n                this.classList.toggle(\"active\");\n\n\n\n                oldid=document.getElementById(\"folderid\").getAttribute(\"value\");\n                newid=this.children[1].getAttribute(\"value\");\n                document.getElementById(\"folderid\").getAttribute(\"value\");\n                document.getElementById(\"folderid\").setAttribute(\"value\",newid);\n\n                \n\n                //create buttons\n                if(!mobe.consistBtn) {\n                    mobe.navAccordion.createBtns();\n                    mobe.consistBtn = true;\n                }\n                //open accordion\n                var panel = this.nextElementSibling;\n                if (panel.style.maxHeight) {\n                    panel.style.maxHeight = null;\n                } else {\n                    panel.style.maxHeight = panel.scrollHeight + \"px\";\n                }\n                console.log(this.children[1].id);\n                showfolder(this.children[1].id)\n                // \n            });\n        }\n    };\n\n    this.createBtns = function() {\n\n        sdb = document.querySelector(\".sidebar .title-menu\");\n        wrbtn = `<p class='create-btns'>\n                    <a data-name='new-folder' class='btn-normal btn-beige-green'><span class=\"btn-plus\"></span>Ordner hinzufügen</a>           \n                </p>`;\n        sdb.insertAdjacentHTML('beforebegin', wrbtn);\n    }\n};\n\nmobe.leftMenu = new function() {\n\n    this.init = function() {\n        const sm = document.querySelector('.switch-menu'),\n            hm = document.querySelector('.hide-menu'),\n            mp = document.querySelector('.manage-page .sidebar');\n\n        sm.addEventListener('click', function() {\n\n            mp.classList.toggle('open');\n\n        });\n        hm.addEventListener('click', function(){\n            mp.classList.toggle('open');\n\n        });\n    };\n};\n\nmobe.showPop = new function() {\n\n    this.init = function() {\n        const bl = document.getElementById(\"blanket\");\n    // das Startpopup\n       // setTimeout(function() {\n       //     bl.classList.add('open');\n       //     document.body.classList.toggle('noscroll');\n       // }, 2000);\n    };\n};\n\nmobe.closePop = new function() {\n\n    this.init = function() {\n        const cp = document.querySelector('.close-pop');\n        const bl = document.getElementById(\"blanket\");\n        cp.addEventListener('click', function(){\n            bl.animate([\n                {opacity: 1},\n                {opacity: 0}\n            ], {\n                duration: 450,\n                fill: 'forwards'\n            });\n            setTimeout(function() {\n                bl.classList.remove('open');\n                document.body.classList.toggle('noscroll');\n            }, 450);\n        });\n    };\n};\n\nmobe.newElement = new function() {\n\n    this.init = function() {\n        const mp = document.querySelector('.manage-page');\n        mp.addEventListener('click', function(){\n            if(event.target.dataset.name === 'new-chip') {\n                console.log('new-chip');\n            } else if (event.target.dataset.name === 'new-chipset') {\n                console.log(\"target: new-chipset\");\n                mobe.newElement.createChipset();\n              }\n             else if (event.target.dataset.name === 'new-folder') {\n                console.log(\"target:new-folder\");\n                mobe.newElement.createFolder();\n              }\n\n        }, true);\n    };\n    // Inhalt des Popup \"blanket\n    this.createFolder = function() {\n        const blan = document.getElementById(\"blanket\");\n        maincon = document.getElementById('main_content'),\n        tit = maincon.querySelector(\".title-mp\").innerHTML;\n\n        const newBlanket = `\n            <div id=\"newBlanket\" class=\"new-blanket open\">\n                <div class=\"popup\">\n                  <span class=\"modal-close abbrechen\">&#43;</span>\n                    <h5 class=\"bl-title\">ordner erstellen in `+tit+`</h5>\n                    <form id=\"myForm\">\n                         <input type=\"hidden\" id=\"parentid\" name=\"parentid\" value=\"`+document.getElementById(\"folderid\").getAttribute(\"value\")+`\">\n                      <p class=\"name-ordner\">\n                        <span class=\"folder-ico\"></span><input type=\"text\" name=\"nameOrdner\" id=\"nameOrdner\" value=\"\" placeholder=\"Neuer Ordner\">\n\n                         <p class=\"btn-ordner\">\n                            <a href=\"javascript:void(0);\" class=\"btn-small btn-red abbrechen\">Abbrechen</a>\n                            <input type=\"button\" class=\"btn-small btn-green erstellen\" onclick=\"loadFolders()\" value=\"Erstellen\">\n                        </p>\n                    </form>\n                </div>\n            </div>`;\n\n        blan.insertAdjacentHTML('beforebegin', newBlanket);\n    }\n    // Inhalt des Popup \"blanket\"\n    this.createChipset = function() {\n        const blan = document.getElementById(\"blanket\");\n        maincon = document.getElementById('main_content'),\n        tit = maincon.querySelector(\".title-mp\").innerHTML;\n\n        const newBlanket = `\n            <div id=\"newBlanket\" class=\"new-blanket open\">\n                <div class=\"popup\">\n                  <span class=\"modal-close abbrechen\">&#43;</span>\n                    <h5 class=\"bl-title\">Chipset erstellen</h5>\n                    <form id=\"myForm\">\n                         <input type=\"hidden\" id=\"parentid\" name=\"parentid\" value=\"`+document.getElementById(\"folderid\").getAttribute(\"value\")+`\">\n                      <p class=\"name-chipset\">\n                        <span class=\"chipset-ico\"></span><input type=\"text\" name=\"nameChipset\" id=\"nameChipset\" value=\"\" placeholder=\"Neues Chipset\">\n\n                         <p class=\"btn-ordner\">\n                            <a href=\"javascript:void(0);\" class=\"btn-small btn-red abbrechen\">Abbrechen</a>\n                            <input type=\"button\" class=\"btn-small btn-green erstellen\" onclick=\"newChipset()\" value=\"Erstellen\">\n                        </p>\n                    </form>\n                </div>\n            </div>`;\n\n        blan.insertAdjacentHTML('beforebegin', newBlanket);\n    }\n\n};\n\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    mobe.navAccordion.init();\n    mobe.leftMenu.init();\n    mobe.showPop.init();\n    mobe.closePop.init();\n\n    mobe.newElement.init();  // Popup\n}, false);\n\n\nfunction myFunction() {\n  document.getElementById(\"myForm\").submit();\n}\n\n// drag and drop Lernchips in Ordner\n\n\n\n// neuer Ordner erstellen und anzeigen\nfunction loadFolders() {\n  const xhttp = new XMLHttpRequest();\n  xhttp.onload = function() {\n    // neue Ordner laden\n    rt=this.responseText;\n    const obj = JSON.parse(rt);\n    newfolder=''\n    for (var prop in obj) {\n        newfolder=newfolder+'<li class=\"smenu-item\" ondrop=\"drop(event)\" ondragover=\"allowDrop(event)\"><span name=\"folderid\" id=\"p'+obj[prop].id+'\" value=\"'+obj[prop].id+'\"></span><a href=\"javascript:void(0);\">'+obj[prop].name+'</a></li>'\n    }\n    // Ordnerliste in persönlicher Ordner ersetzen\n    document.getElementById(\"personalFolder\").innerHTML =newfolder;\n  }\n  var nameOrdner = document.getElementById(\"nameOrdner\").value;\n  var parentid = document.getElementById(\"parentid\").value;\n  // neuer Ordner speichern\n  xhttp.open(\"POST\", \"createpfolder\", true);\n  xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n  xhttp.send(\"nameOrdner=\"+nameOrdner+\"&parentid=\"+parentid);\n  //Modal close\n  var element = document.getElementById(\"newBlanket\");\n  element.parentNode.removeChild(element);\n}\n\n// Chipset erstellen und anzeigen\nfunction newChipset() {\n  const xhttp = new XMLHttpRequest();\n  xhttp.onload = function() {\n    // neue Ordner laden\n    rt=this.responseText;\n    const obj = JSON.parse(rt);\n  }\n  var nameChipset = document.getElementById(\"nameOrdner\").value;\n  var parentid = document.getElementById(\"parentid\").value;\n  // neuer Ordner speichern\n  xhttp.open(\"POST\", \"createpfolder\", true);\n  xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n  xhttp.send(\"nameOrdner=\"+nameOrdner+\"&parentid=\"+parentid);\n  //Modal close\n  var element = document.getElementById(\"newBlanket\");\n  element.parentNode.removeChild(element);\n}\n\n//drag and drop\nfunction allowDrop(ev) {\n  ev.preventDefault();\n}\n\nfunction drag(ev) {\n  ev.dataTransfer.setData(\"text\", ev.target.id);\n\n}\n\nfunction drop(ev) {\n  //ev.preventDefault();\n  var data = ev.dataTransfer.getData(\"text\");\n  //ev.target.appendChild(document.getElementById(data));\n  var id=ev.target.id;\n  var d=data;\n\n  send(id,d);\n }\n\n// Drag and drop Lernchips in Ordner inkl. Speichern\nfunction send(id,d) {\n  const xhttp = new XMLHttpRequest();\n    xhttp.onload = function() {\n        rt=this.responseText;\n        const obj = JSON.parse(rt);\n        showLernchips(obj)\n        var foldername=document.getElementById(id).innerHTML;\n        document.getElementById(\"aktuellerOrdner\").innerHTML=foldername;\n    }\n    xhttp.open(\"POST\", \"lernchips/movetofolder\", true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xhttp.send(\"folder_id=\"+id+\"&lernchip_id=\"+d);\n}\n\nfunction showfolder(id){\n    console.log(id);\n    var foldername=document.getElementById(id).innerHTML;\n    document.getElementById(\"aktuellerOrdner\").innerHTML=foldername;\n        // Inhalte anzeigen im Anzeigefenster\n    const xhttp = new XMLHttpRequest();\n    xhttp.onload = function() {\n        rt=this.responseText;\n        const obj = JSON.parse(rt);\n        showLernchips(obj)\n        var foldername=document.getElementById(id).innerHTML;\n        document.getElementById(\"aktuellerOrdner\").innerHTML=foldername;\n    }\n    xhttp.open(\"POST\", \"lernchips/showfoldercontent\", true);\n    xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xhttp.send(\"folder_id=\"+id);\n\n\n}\n\nfunction showLernchips(obj){\n    lernchips=\"\"\n        for (var prop in obj) {\n            lernchips=lernchips+'<div class=\"item-chip\" id=\"'+obj[prop].id+'\" draggable=\"true\" ondragstart=\"drag(event)\"><div class=\"wr-ico\"><img src=\"img/Accordeon.svg\" alt=\"\"></div><h4 class=\"title-chip\">'+obj[prop].title+'</h4><div class=\"wr-icons\"><div class=\"left-half\"></div><div class=\"right-half\"><a href=\"/test-editor.html\"><span class=\"img-edit\"></span></a><a href=\"/test-preview.html\"><span class=\"img-view\"></span></a><a href=\"javascript:void(0);\"><span class=\"img-share\"></span></a><a href=\"javascript:void(0);\"><span class=\"img-delete\"></span></a></div></div></div>'\n        }\n        document.getElementById(\"lernchips\").innerHTML = lernchips;\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAIA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAkBA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AAkBA;AACA;AAEA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAMA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}